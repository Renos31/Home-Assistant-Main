homeassistant:
  customize:
    package.node_anchors:
      customize: &customize
        package: 'network_monitor_devices'
    binary_sensor.driveway_camera_connect:
      friendly_name: Driveway Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.shed_camera_connect:
      friendly_name: Shed Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.swamp_camera_connect:
      friendly_name: Swamp Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.number12_camera_connect:
      friendly_name: Number12 Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.frontdoor_camera_connect:
      friendly_name: Front Door Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.backdoor_camera_connect:
      friendly_name: Back Door Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.masterbedroom_camera_connect:
      friendly_name: Master Bedroom Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.camera_kids_room_camera_connect:
      friendly_name: Kids Room Camera
      icon: mdi:cctv
      haaska_hidden: true
########### Mobile Devices's  ###############################
    binary_sensor.herbs_laptop:
      friendly_name: Herbs Laptop
      icon: mdi:laptop
      haaska_hidden: true
    binary_sensor.herbs_iphone:
      friendly_name: Herbs Iphone
      icon: mdi:cellphone-iphone
      haaska_hidden: true
    binary_sensor.dawns_phone:
      friendly_name: Dawns Samsung
      icon: mdi:cellphone-android
      haaska_hidden: true
    binary_sensor.tristans_phone1:
      friendly_name: Tristans Phone (old)
      icon: mdi:cellphone-android
      haaska_hidden: true
    binary_sensor.tristans_phone2:
      friendly_name: Tristans Phone (new)
      icon: mdi:cellphone-android
      haaska_hidden: true
    binary_sensor.gabbies_phone:
      friendly_name: Gabbie Phone
      icon: mdi:cellphone-android
    binary_sensor.ruths_tablet:
      friendly_name: Ruths Tablet
      icon: mdi:tablet
      haaska_hidden: true
    binary_sensor.Gabbies_laptop:
      friendly_name: Gabbies Laptop
      icon: mdi:laptop
      haaska_hidden: true

############### Hubs   #######################################
    binary_sensor.harmony_hub:
      friendly_name: Harmony Hub
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.hue_hub:
      friendly_name: Hue Hub
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.broadlink_mini:
      friendly_name: Broadlink Mini
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.broadlink_pro:
      friendly_name: Broadlink Pro
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.xiaomi_gateway:
      friendly_name: Xiaomi Gateway
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.xiaomi_gateway_2:
      friendly_name: Xiaomi Gateway 2
      icon: mdi:black-mesa
      haaska_hidden: true

############### Servers     ##########################################
    binary_sensor.server_blue_iris:
      friendly_name: Blue Iris Server
      icon: mdi:server-network
      haaska_hidden: true
    binary_sensor.server_homeassistant_fishtank:
      friendly_name: Homeassistant FishTank
      icon: mdi:server-network
      haaska_hidden: true
    binary_sensor.kids_workstation:
      friendly_name: Kids Workstation
      icon: mdi:server-network
      haaska_hidden: true
    binary_sensor.server_pi_falcon_player:
      friendly_name: Falcon Player
      icon: mdi:server-network
      haaska_hidden: true
############### Alexa'es   ##########################################
    binary_sensor.alexa_master_dot:
      friendly_name: Master Bedroom Dot
      icon: mdi:voice
      haaska_hidden: true
    binary_sensor.alexa_living_room_echo:
      friendly_name: Living Room Echo
      icon: mdi:voice
      haaska_hidden: true
    binary_sensor.alexa_kids_room_dot:
      friendly_name: Kids Room Dot
      icon: mdi:voice
      haaska_hidden: true
    binary_sensor.alexa_kitchen_echo:
      friendly_name: Kitchen Echo
      icon: mdi:voice
      haaska_hidden: true

############### Media Players  ##########################################
    binary_sensor.ruths_ruko:
      friendly_name: Ruths Roku
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.livingroom_roku:
      friendly_name: Living Room Ruko
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.kids_room_roku:
      friendly_name: Kids Room Ruko
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.media_player_onkyo_lv:
      friendly_name: Onkyo Reciever
      icon: mdi:theater
      haaska_hidden: true
    binary_sensor.samsung_tv:
      friendly_name: Samsung Tv
      icon: mdi:theater
      haaska_hidden: true
    binary_sensor.chromecast_master:
      friendly_name: Chromecast Master
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.chromecast_livingroom:
      friendly_name: Chromecast Living Room
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.chromecast_kids_room:
      friendly_name: Chromecast Kids Room
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.chromecast_radio:
      friendly_name: Chromecast Onkyo
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.tablo:
      friendly_name: Tablo
      icon: mdi:theater
      haaska_hidden: true
################ Network Equipment ####################################
    # binary_sensor.cable_modem:
    #   friendly_name: Cable Modem
    #   icon: mdi:ethernet
    #   haaska_hidden: true
    binary_sensor.unifi_gateway:
      friendly_name: Unfi Gateway
      icon: mdi:ethernet
      haaska_hidden: true
    binary_sensor.switch_unifi_24_port:
      friendly_name: Poe 24 Port
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.switch_ubnt_poe_kids_room:
      friendly_name: POE 8 port Unifi Kids Room
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.unificloudkey:
      friendly_name: Unfi CloudKey
      icon: mdi:ethernet
      haaska_hidden: true
    binary_sensor.switch_ubnt_poe_16:
      friendly_name: POE 16 port Unifi
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.switch_ubnt_poe_8_shed:
      friendly_name: POE 8 port Unifi Shed
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.ac_pro:
      friendly_name: AP UniFi AC PRO
      icon: mdi:access-point
      haaska_hidden: true
    binary_sensor.nano_hd:
      friendly_name: AP Nano HD
      icon: mdi:access-point
      haaska_hidden: true
    binary_sensor.ap_kids_room:
      friendly_name: Kids Room AP
      icon: mdi:access-point
      haaska_hidden: true
########## Wemos         ########################
    binary_sensor.wemo_master_bath_fan:
      friendly_name: Wemos Master Bath Fan
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_bathroom_fan:
      friendly_name: Wemos Kids Bath Fan
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_shed_switch_network:
      friendly_name: Wemos Shed Switch
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.master_bedroom_mixer:
      friendly_name: Wemos Master Bedroom Mixer
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_bathroom_scent:
      friendly_name: Wemos Kids Bathroom Scent
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_washing_machine:
      friendly_name: Wemos Washing Machine
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_lv_scent:
      friendly_name: Wemos living Room Scent
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_driveway_reboot:
      friendly_name: Driveway Camera Reboot
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_fish_tan_pumps:
      friendly_name: Blue Iris Monitor
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_bathroom_vanity:
      friendly_name: Kids Bathroom Vanity
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_master_bath_vanity:
      friendly_name: Master Bathroom Vanity
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_ruths_room_wax_warmer:
      friendly_name: Ruths Room Wax Warmer
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_fan:
      friendly_name: Kids Fan
      icon: mdi:power-settings
    binary_sensor.wemo_master_bedroom_ceiling_fan:
      friendly_name: Master Bedroom Ceiling Fan
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_tv_power:
      friendly_name: Kids Tv Power
      icon: mdi:power-settings
      haaska_hidden: true
############## Dashboards ################
    binary_sensor.dash_master:
      friendly_name: Dashboard Tablet Bedroom
      icon: mdi:tablet-android
      haaska_hidden: true
    binary_sensor.dash_living_room:
      friendly_name: Dashboard Tablet Living Room
      icon: mdi:tablet-android
      haaska_hidden: true
    binary_sensor.dash_kids_room:
      friendly_name: Dashboard Kids Room Room
      icon: mdi:tablet-android
      haaska_hidden: true
############ ESP Controllers  ###########################################
    binary_sensor.espkitchencabinets:
      friendly_name: Kitchen Led Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.espjohndeerecabinet:
      friendly_name: John Deer Led Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esppantry:
      friendly_name: Pantry Led Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_spicecabinet:
      friendly_name: Spice Cabinet
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.dawns_controller:
      friendly_name: Dawns Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_front_tv:
      friendly_name: Front Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_couch_blinds:
      friendly_name: Couch Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_kitchen_sink:
      friendly_name: Kitchen Sink Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_master_dawns_side:
      friendly_name: Master Dawns Side Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_master_herbs_side:
      friendly_name: Master Herbs Side Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_kitchen_table:
      friendly_name: Kitchen Table Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_kids_room:
      friendly_name: Kids Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_beer:
      friendly_name: Beer Cooler
      icon: mdi:zip-box
      haaska_hidden: true
############## Misc Devices ###############################################
    binary_sensor.game_console_ps4:
      friendly_name: Ps4
      icon: mdi:playstation
      haaska_hidden: true
    binary_sensor.game_console_ps3:
      friendly_name: Kids Room Ps3
      icon: mdi:playstation
      haaska_hidden: true
    binary_sensor.game_console_xboxone:
      friendly_name: Tristans Xbox One
      icon: mdi:xbox
      haaska_hidden: true
    binary_sensor.game_console_xboxone_x:
      friendly_name: Herbs Xbox One X
      icon: mdi:xbox
      haaska_hidden: true
    binary_sensor.voip_nettalk:
      friendly_name: NetDuo
      icon: mdi:phone-voip
      haaska_hidden: true
    binary_sensor.webswitch_network:
      friendly_name: Digital Loggers Webswitch
      icon: mdi:power-plug
      haaska_hidden: true
    binary_sensor.printer_hp:
      friendly_name: HP Printer
      icon: mdi:printer
    binary_sensor.ecobee:
      friendly_name: Ecobee Thermostat
      icon: mdi:thermostat-box
    sensor.myipopendnscom:
      friendly_name: Wan Ip
      icon: mdi:wan
    sensor.clients:
      friendly_name: Clients Tracked
      icon: mdi:network
      haaska_hidden: true
    binary_sensor.rockrobo:
      friendly_name: Susie
      icon: mdi:power-plug
      haaska_hidden: true
    binary_sensor.living_room_purifer:
      friendly_name: Living Room Purifer
      icon: mdi:fan
      haaska_hidden: true
    binary_sensor.master_bedroom_purifer:
     friendly_name: Master Bedroom Purifer
     icon: mdi:fan
     haaska_hidden: true
    binary_sensor.kids_bedroom_purifer:
     friendly_name: Kids Bedroom Purifer
     icon: mdi:fan
     haaska_hidden: true
######### ZHA ####################################
    binary_sensor.living_room_fan:
     friendly_name: Living Room Ceiling Fan
     icon: mdi:fan
     haaska_hidden: true
    binary_sensor.master_bedroom_fan:
     friendly_name: Master Bedroom Fan
     icon: mdi:fan
     haaska_hidden: true
    binary_sensor.kitchen_zha_plug:
     friendly_name: Kitchen Blinds Reboot
     icon: mdi:power-plug
     haaska_hidden: true
    binary_sensor.master_bedroom_zha_plug:
     friendly_name: Master Bedroom ZHA
     icon: mdi:power-plug
     haaska_hidden: true
    binary_sensor.front_blinds_zha_plug:
     friendly_name: Front Blinds Reboot
     icon: mdi:power-plug
     haaska_hidden: true
    binary_sensor.kids_room_blinds_zha_plug:
     friendly_name: Kids Room Blinds Reboot
     icon: mdi:power-plug
     haaska_hidden: true
    binary_sensor.16_port_zha_plug:
     friendly_name: 16 Port Zha plug
     icon: mdi:power-plug
     haaska_hidden: true

sensor:
  ############## Public Ip
  - platform: dnsip
  # Resolve IP address of home-assistant.io via Google DNS
    hostname: vasiley.dns1.us
    name: Vasiley HA
    resolver: 8.8.8.8

#################### ALL CLIENTS ###################
  - platform: template
    sensors:
      clients:
        unit_of_measurement: '#'
        entity_id: sun.sun
        value_template: >-
            {%- for d in states.device_tracker if d.state == 'home' -%}
            {{- loop.length if loop.first -}}
            {%- endfor -%}
##### show devices as online instead of home   ############################
#### Cameras #############
binary_sensor:
  - platform: template
    sensors:
      driveway_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_driveway", "home") }}'
  - platform: template
    sensors:
      shed_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_shed", "home") }}'
  - platform: template
    sensors:
      swamp_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_swamp", "home") }}'
  - platform: template
    sensors:
      number12_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_number12", "home") }}'
  - platform: template
    sensors:
      frontdoor_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_living_room", "home") }}'
  - platform: template
    sensors:
      backdoor_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_backdoor", "home") }}'
  - platform: template
    sensors:
      masterbedroom_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_master_bedroom", "home") }}'
  - platform: template
    sensors:
      camera_kids_room_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_kids_room_cam", "home") }}'

######### Mobile Devices  ##########################

  - platform: template
    sensors:
      herbs_laptop:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.vaspc", "home") }}'
  - platform: template
    sensors:
      herbs_iphone:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.herbertrsiphone", "home") }}'
  - platform: template
    sensors:
      dawns_phone:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dawns_phone", "home") }}'
  - platform: template
    sensors:
      ruths_tablet:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ruths_tablet", "home") }}'
  - platform: template
    sensors:
      gabbies_laptop:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.gabbies_laptop", "home") }}'
  - platform: template
    sensors:
      tristans_phone1:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.tristans_phone1", "home") }}'
  - platform: template
    sensors:
      tristans_phone2:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.tristans_phone2", "home") }}'
  - platform: template
    sensors:
      gabbies_phone:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.gabbies_phone", "home") }}'

############ Hubs ######################################

  - platform: template
    sensors:
      harmony_hub:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.harmony_hub", "home") }}'
  - platform: template
    sensors:
      hue_hub:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.hue_hub", "home") }}'
  - platform: template
    sensors:
      broadlink_mini:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.kids_room_mini_broadlink", "home") }}'
  - platform: template
    sensors:
      broadlink_pro:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.master_bedroom_broadlink", "home") }}'
  - platform: template
    sensors:
      xiaomi_gateway:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.xiaomi_gateway", "home") }}'
  - platform: template
    sensors:
      xiaomi_gateway_2:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.xiaomi_gateway_2", "home") }}'

################### servers ###################

  - platform: template
    sensors:
      server_blue_iris:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.server_blueiris_plex", "home") }}'
  - platform: template
    sensors:
      server_homeassistant_fishtank:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.server_homeassistant_fishtank", "home") }}'
  - platform: template
    sensors:
      kids_workstation:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.kids_workstation", "home") }}'
  - platform: template
    sensors:
      server_pi_falcon_player:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.server_pi_falcon_player", "home") }}'

#################### alexa's ###################

  - platform: template
    sensors:
      alexa_living_room_echo:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_living_room_echo", "home") }}'
  - platform: template
    sensors:
      alexa_kids_room_dot:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_kids_room_dot", "home") }}'
  - platform: template
    sensors:
      alexa_master_dot:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_master_dot", "home") }}'
  - platform: template
    sensors:
      alexa_kitchen_echo:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_kitchen_echo", "home") }}'


#################### media players ###################

  - platform: template
    sensors:
      ruths_ruko:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ruths_ruko", "home") }}'

  - platform: template
    sensors:
      livingroom_roku:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.livingroom_roku", "home") }}'

  - platform: template
    sensors:
      kids_room_roku:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.kids_room_roku", "home") }}'

  - platform: template
    sensors:
      media_player_onkyo_lv:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.media_player_onkyo_lv", "home") }}'

  - platform: template
    sensors:
      samsung_tv:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.samsung_tv", "home") }}'

  - platform: template
    sensors:
      chromecast_master:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.chromecast_master", "home") }}'

  - platform: template
    sensors:
      chromecast_livingroom:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.chromecast_livingroom", "home") }}'

  - platform: template
    sensors:
      chromecast_kids_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.media_player_cast_kids_room", "home") }}'

  - platform: template
    sensors:
      chromecast_radio:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.chromecast_radio", "home") }}'

  - platform: template
    sensors:
      tablo:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.tablo", "home") }}'

#######################################
#################### Network Devices  ###################
  - platform: template
    sensors:
      unifi_gateway:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.unifi_gateway", "home") }}'
  - platform: template
    sensors:
      switch_unifi_24_port:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_unifi_24_port", "home") }}'
  - platform: template
    sensors:
      switch_ubnt_poe_kids_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_ubnt_poe_kids_room", "home") }}'
  - platform: template
    sensors:
      unificloudkey:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.unificloudkey", "home") }}'
  - platform: template
    sensors:
      switch_ubnt_poe_16:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_ubnt_poe_16", "home") }}'
  - platform: template
    sensors:
      switch_ubnt_poe_8_shed:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_ubnt_poe_8_shed", "home") }}'
  - platform: template
    sensors:
      ac_pro:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ac_pro", "home") }}'
  - platform: template
    sensors:
      nano_hd:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.nano_hd", "home") }}'
  - platform: template
    sensors:
      ap_kids_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ap_kids_room", "home") }}'
#################### Wemo Devices  ###################

  - platform: template
    sensors:
      wemo_master_bath_fan:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_master_bath_fan", "home") }}'
  - platform: template
    sensors:
      wemo_kids_bathroom_fan:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_bathroom_fan", "home") }}'
  - platform: template
    sensors:
      wemo_shed_switch_network:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_shed_switch_network", "home") }}'
  - platform: template
    sensors:
      master_bedroom_mixer:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.master_bedroom_mixer", "home") }}'
  - platform: template
    sensors:
      wemo_kids_bathroom_scent:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_bathroom_scent", "home") }}'
  - platform: template
    sensors:
      wemo_washing_machine:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_washing_machine", "home") }}'
  - platform: template
    sensors:
      wemo_lv_scent:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_lv_scent", "home") }}'
  - platform: template
    sensors:
      wemo_driveway_reboot:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_driveway_reboot", "home") }}'

  - platform: template
    sensors:
      wemo_fish_tan_pumps:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_fish_tan_pumps", "home") }}'
  - platform: template
    sensors:
      wemo_kids_bathroom_vanity:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_bathroom_vanity", "home") }}'
  - platform: template
    sensors:
      wemo_master_bath_vanity:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_master_bath_vanity", "home") }}'
  - platform: template
    sensors:
      wemo_ruths_room_wax_warmer:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_ruths_room_wax_warmer", "home") }}'
  - platform: template
    sensors:
      wemo_kids_fan:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_fan", "home") }}'

  - platform: template
    sensors:
      wemo_master_bedroom_ceiling_fan:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_master_bedroom_ceiling_fan", "home") }}'

  - platform: template
    sensors:
      wemo_kids_tv_power:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_tv_power", "home") }}'

#################### Dashboards Devices  ###################

  - platform: template
    sensors:
      dash_master:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dash_master_bedroom", "home") }}'
  - platform: template
    sensors:
      dash_living_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dash_living_room", "home") }}'
  - platform: template
    sensors:
      dash_kids_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dash_kids_room", "home") }}'

#################### Esp Devices  ###################
  - platform: template
    sensors:
      espkitchencabinets:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.espkitchencabinets", "home") }}'
  - platform: template
    sensors:
      esppantry:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esppantry", "home") }}'
  - platform: template
    sensors:
      esp_spicecabinet:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_spicecabinet", "home") }}'
  - platform: template
    sensors:
      espjohndeerecabinet:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.espjohndeerecabinet", "home") }}'
  - platform: template
    sensors:
      dawns_controller:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dawns_controller", "home") }}'
  - platform: template
    sensors:
      esp_blinds_front_tv:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_front_tv", "home") }}'
  - platform: template
    sensors:
      esp_couch_blinds:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_couch_blinds", "home") }}'
  - platform: template
    sensors:
      esp_blinds_kitchen_sink:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_kitchen_sink", "home") }}'
  - platform: template
    sensors:
      esp_blinds_master_dawns_side:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_master2", "home") }}'
  - platform: template
    sensors:
      esp_blinds_master_herbs_side:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_master1", "home") }}'
  - platform: template
    sensors:
      esp_blinds_kitchen_table:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_kitchen_table", "home") }}'
  - platform: template
    sensors:
      esp_blinds_kids_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_kids_room", "home") }}'
  - platform: template
    sensors:
      esp_beer:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_beer", "home") }}'

################### Misc Devices  ##########################
  - platform: template
    sensors:
      game_console_ps4:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.game_console_ps4", "home") }}'
  - platform: template
    sensors:
      game_console_ps3:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.game_console_ps3', 'home') }}"
  - platform: template
    sensors:
      game_console_xboxone:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.game_console_xboxone', 'home') }}"
  - platform: template
    sensors:
      game_console_xboxone_x:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.game_console_xboxone_x', 'home') }}"
  - platform: template
    sensors:
      voip_nettalk:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.voip_nettalk', 'home') }}"
  - platform: template
    sensors:
      webswitch_network:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.webswitch_network', 'home') }}"
  - platform: template
    sensors:
      printer_hp:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.printer_hp', 'home') }}"
  - platform: template
    sensors:
      ecobee:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.ecobee', 'home') }}"
  - platform: template
    sensors:
      rockrobo:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.rockrobo', 'home') }}"
  - platform: template
    sensors:
      living_room_purifer:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.living_room_purifer', 'home') }}"
  - platform: template
    sensors:
      master_bedroom_purifer:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.master_bedroom_purifer', 'home') }}"
  - platform: template
    sensors:
      kids_bedroom_purifer:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.kids_bedroom_purifer', 'home') }}"
######################### ZHA ###########################################################
  - platform: template
    sensors:
      master_bedroom_fan:
        device_class: connectivity
        value_template: "{{ is_state('zha.king_of_fans_inc_hbuniversalcfremote', 'online') }}"
  - platform: template
    sensors:
      living_room_fan:
        device_class: connectivity
        value_template: "{{ is_state('zha.king_of_fans_inc_hbuniversalcfremote_2', 'online') }}"
  - platform: template
    sensors:
      kitchen_zha_plug:
        device_class: connectivity
        value_template: "{{ is_state('zha.ledvance_plug', 'online') }}"
  - platform: template
    sensors:
      master_bedroom_zha_plug:
        device_class: connectivity
        value_template: "{{ is_state('zha.ledvance_plug_2', 'online') }}"
  - platform: template
    sensors:
      front_blinds_zha_plug:
        device_class: connectivity
        value_template: "{{ is_state('zha.ledvance_plug_3', 'online') }}"
  - platform: template
    sensors:
      kids_room_blinds_zha_plug:
        device_class: connectivity
        value_template: "{{ is_state('zha.ledvance_plug_4', 'online') }}"
  - platform: template
    sensors:
      16_port_zha_plug:
        device_class: connectivity
        value_template: "{{ is_state('zha.ledvance_plug_5', 'online') }}"

device_tracker:
  - platform: ping
    hosts:
      unifi_gateway: 192.168.1.1
      switch_unifi_24_port: 192.168.1.5
      switch_ubnt_poe_kids_room: 192.168.1.3
      switch_ubnt_poe_16: 192.168.1.2
      switch_ubnt_poe_8_shed: 192.168.1.4
      ap_kids_room: 192.168.1.8
      ac_pro: 192.168.1.9
      nano_hd: 192.168.1.10
      xboxone_ping: 192.168.1.56
    consider_home: 180
    interval_seconds: 90

  - platform: unifi
    host: 192.168.1.6
    username: !secret unifi_username
    password: !secret unifi_password
    verify_ssl: false
    site_id: default
    detection_time: 60

#### Notify if device goes offline

automation:
  - alias: Notify Device Status
    initial_state: 'on'
    trigger:
      - platform: state
        entity_id:
          - binary_sensor.driveway_camera_connect
          - binary_sensor.number12_camera_connect
          - binary_sensor.shed_camera_connect
          - binary_sensor.swamp_camera_connect
          - binary_sensor.frontdoor_camera_connect
          - binary_sensor.backdoor_camera_connect
          - binary_sensor.masterbedroom_camera_connect
          - binary_sensor.camera_kids_room_camera_connect
#         MOBILE DEVICES
          - binary_sensor.herbs_laptop
          - binary_sensor.herbs_iphone
          - binary_sensor.dawns_phone
          - binary_sensor.tristans_phone1
          - binary_sensor.tristans_phone2
          - binary_sensor.gabbies_phone
          - binary_sensor.ruths_tablet
          - binary_sensor.gabbies_laptop
#         HUBS
          - binary_sensor.harmony_hub
          - binary_sensor.hue_hub
          - binary_sensor.broadlink_pro
          - binary_sensor.broadlink_mini
          - binary_sensor.xiaomi_gateway
          - binary_sensor.xiaomi_gateway_2
#         Servers
          - binary_sensor.server_blue_iris
          - binary_sensor.server_homeassistant_fishtank
          - binary_sensor.kids_workstation
          - binary_sensor.server_pi_falcon_player
#         alexa
          - binary_sensor.alexa_master_dot
          - binary_sensor.alexa_kids_room_dot
          - binary_sensor.alexa_living_room_echo
          - binary_sensor.alexa_kitchen_echo
#         media Players
          - binary_sensor.ruths_ruko
          - binary_sensor.livingroom_roku
          - binary_sensor.kids_room_roku
          - binary_sensor.media_player_onkyo_lv
          - binary_sensor.samsung_tv
          - binary_sensor.chromecast_master
          - binary_sensor.chromecast_livingroom
          - binary_sensor.chromecast_radio
          - binary_sensor.chromecast_kids_room
          - binary_sensor.tablo
#         Network Equipment
          - binary_sensor.unifi_gateway
          - binary_sensor.switch_unifi_24_port
          - binary_sensor.switch_ubnt_poe_kids_room
          - binary_sensor.unificloudkey
          - binary_sensor.switch_ubnt_poe_16
          - binary_sensor.switch_ubnt_poe_8_shed
          - binary_sensor.ac_pro
          - binary_sensor.nano_hd
          - binary_sensor.ap_kids_room
#         wemos
          - binary_sensor.wemo_master_bath_fan
          - binary_sensor.wemo_kids_bathroom_fan
          - binary_sensor.wemo_shed_switch_network
          - binary_sensor.master_bedroom_mixer
          - binary_sensor.wemo_kids_bathroom_scent
          - binary_sensor.wemo_washing_machine
          - binary_sensor.wemo_lv_scent
          - binary_sensor.wemo_driveway_reboot
          - binary_sensor.wemo_fish_tan_pumps
          - binary_sensor.wemo_kids_bathroom_vanity
          - binary_sensor.wemo_master_bath_vanity
          - binary_sensor.wemo_ruths_room_wax_warmer
          - binary_sensor.wemo_kids_fan
          - binary_sensor.wemo_master_bedroom_ceiling_fan
          - binary_sensor.wemo_kids_tv_power
#         Dashboards
          - binary_sensor.dash_master
          - binary_sensor.dash_living_room
          - binary_sensor.dash_kids_room
#         esp
          - binary_sensor.espkitchencabinets
          - binary_sensor.esppantry
          - binary_sensor.esp_spicecabinet
          - binary_sensor.espjohndeerecabinet
          - binary_sensor.kids_room_controller
          - binary_sensor.dawns_controller
          - binary_sensor.esp_blinds_front_tv
          - binary_sensor.esp_couch_blinds
          - binary_sensor.esp_blinds_master_dawns_side
          - binary_sensor.esp_blinds_master_herbs_side
          - binary_sensor.esp_blinds_kitchen_table
          - binary_sensor.esp_blinds_kitchen_sink
          - binary_sensor.esp_blinds_kids_room
          - binary_sensor.esp_beer
#         misc devices
          - binary_sensor.game_console_ps4
          - binary_sensor.game_console_ps3
          - binary_sensor.game_console_xboxone
          - binary_sensor.game_console_xboxone_x
          - binary_sensor.voip_nettalk
          - binary_sensor.webswitch_network
          - binary_sensor.printer_hp
          - binary_sensor.ecobee
          - binary_sensor.rockrobo
          - binary_sensor.living_room_purifer
          - binary_sensor.master_bedroom_purifer
          - binary_sensor.kids_bedroom_purifer
#       ZHA
          - binary_sensor.master_bedroom_fan
          - binary_sensor.living_room_fan
          - binary_sensor.kitchen_zha_plug
          - binary_sensor.master_bedroom_zha_plug
          - binary_sensor.front_blinds_zha_plug
          - binary_sensor.kids_room_blinds_zha_plug
          - binary_sensor.16_port_zha_plug


    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{% if trigger.from_state and trigger.to_state %} True {% else %} False {% endif %}"
        - condition: state
          entity_id: input_boolean.boolean_home
          state: 'on'
        - condition: state
          entity_id: input_boolean.boolean_network_reboot
          state: 'off'
    action:
      - wait_template: "{{ states.media_player.ha_speaker.state == 'idle' }}"
      - wait_template: "{{ states.media_player.master_bedroom_cast.state == 'idle' }}"
      - service: tts.google_say
        data_template:
          entity_id: media_player.ha_speaker, media_player.master_bedroom_cast
          message: >
            {% if trigger.to_state.state | lower == "off" %}
              {{ trigger.to_state.attributes.friendly_name }} has gone offline!
            {% else %}
              {{ trigger.to_state.attributes.friendly_name }} has come online!
            {% endif %}
