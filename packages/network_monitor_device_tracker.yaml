homeassistant:
  customize:
    package.node_anchors:
      customize: &customize
        package: 'Network Monitor devices'
######### Speedtest ###############################
    sensor.speedtest_download:
      entity_picture: /local/speedtest.png
    sensor.speedtest_upload:
      entity_picture: /local/speedtest.png
    sensor.speedtest_ping:
      entity_picture: /local/ping.jpg

########### Camera's ##################################
    binary_sensor.driveway_camera_connect:
      friendly_name: Driveway Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.shed_camera_connect:
      friendly_name: Shed Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.swamp_camera_connect:
      friendly_name: Swamp Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.number12_camera_connect:
      friendly_name: Number12 Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.frontdoor_camera_connect:
      friendly_name: Front Door Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.backdoor_camera_connect:
      friendly_name: Back Door Camera
      icon: mdi:cctv
      haaska_hidden: true
    binary_sensor.masterbedroom_camera_connect:
      friendly_name: Master Bedroom Camera
      icon: mdi:cctv
      haaska_hidden: true
########### Mobile Devices's  ###############################
    binary_sensor.herbs_laptop:
      friendly_name: Herbs Laptop
      icon: mdi:laptop
      haaska_hidden: true
    binary_sensor.herbs_iphone:
      friendly_name: Herbs Iphone
      icon: mdi:cellphone-iphone
      haaska_hidden: true
    binary_sensor.dawns_phone:
      friendly_name: Dawns Samsung
      icon: mdi:cellphone-android
      haaska_hidden: true
    binary_sensor.tristans_phone:
      friendly_name: Tristans Phone
      icon: mdi:cellphone-android
      haaska_hidden: true
    binary_sensor.ruths_tablet:
      friendly_name: Ruths Tablet
      icon: mdi:tablet
      haaska_hidden: true
    binary_sensor.gabbies_laptop:
      friendly_name: Gabbies Laptop
      icon: mdi:laptop
      haaska_hidden: true

############### Hubs   #######################################
    binary_sensor.harmony_hub:
      friendly_name: Harmony Hub
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.wink_hub:
      friendly_name: Wink Hub
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.hue_hub:
      friendly_name: Hue Hub
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.broadlink_mini:
      friendly_name: Broadlink Mini
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.broadlink_pro:
      friendly_name: Broadlink Pro
      icon: mdi:black-mesa
      haaska_hidden: true
    binary_sensor.xiaomi_gateway:
      friendly_name: Xiaomi Gateway
      icon: mdi:black-mesa
      haaska_hidden: true

############### Servers     ##########################################
    binary_sensor.server_blue_iris:
      friendly_name: Blue Iris Server
      icon: mdi:server-network
      haaska_hidden: true
    binary_sensor.server_homeassistant_fishtank:
      friendly_name: Homeassistant FishTank
      icon: mdi:server-network
      haaska_hidden: true
    binary_sensor.kids_workstation:
      friendly_name: Kids Workstation
      icon: mdi:server-network
      haaska_hidden: true
############### Alexa'es   ##########################################
    binary_sensor.alexa_master_dot:
      friendly_name: Master Bedroom Dot
      icon: mdi:voice
      haaska_hidden: true
    binary_sensor.alexa_living_room_echo:
      friendly_name: Living Room Echo
      icon: mdi:voice
      haaska_hidden: true
    binary_sensor.alexa_gabbies_room_dot:
      friendly_name: Gabbies Dot
      icon: mdi:voice
      haaska_hidden: true
    binary_sensor.alexa_kitchen_echo:
      friendly_name: Kitchen Echo
      icon: mdi:voice
      haaska_hidden: true

############### Media Players  ##########################################
    binary_sensor.ruths_ruko:
      friendly_name: Ruths Roku
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.livingroom_roku:
      friendly_name: Living Room Ruko
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.kids_room_roku:
      friendly_name: Kids Room Ruko
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.media_player_onkyo_lv:
      friendly_name: Onkyo Reciever
      icon: mdi:theater
      haaska_hidden: true
    binary_sensor.samsung_tv:
      friendly_name: Samsung Tv
      icon: mdi:theater
      haaska_hidden: true
    binary_sensor.chromecast_master:
      friendly_name: Chromecast Master
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.chromecast_livingroom:
      friendly_name: Chromecast Living Room
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.chromecast_kids_room:
      friendly_name: Chromecast Kids Room
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.chromecast_radio:
      friendly_name: Chromecast Onkyo
      icon: mdi:play-network
      haaska_hidden: true
    binary_sensor.tablo:
      friendly_name: Tablo
      icon: mdi:theater
      haaska_hidden: true
##################### NAS ############################################
    binary_sensor.network_harddrive:
      friendly_name: Network Nas
      icon: mdi:harddisk
      haaska_hidden: true
################ Network Equipment ####################################
    # binary_sensor.cable_modem:
    #   friendly_name: Cable Modem
    #   icon: mdi:ethernet
    #   haaska_hidden: true
    binary_sensor.unifi_gateway:
      friendly_name: Unfi Gateway
      icon: mdi:ethernet
      haaska_hidden: true
    binary_sensor.switch_ubnt_poe_lv:
      friendly_name: POE 8 port Unifi Living Room
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.unificloudkey:
      friendly_name: Unfi CloudKey
      icon: mdi:ethernet
      haaska_hidden: true
    binary_sensor.switch_ubnt_poe_16:
      friendly_name: POE 16 port Unifi
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.switch_ubnt_poe_8_shed:
      friendly_name: POE 8 port Unifi Shed
      icon: mdi:switch
      haaska_hidden: true
    binary_sensor.ac_pro:
      friendly_name: AP UniFi AC PRO
      icon: mdi:access-point
      haaska_hidden: true
    binary_sensor.ap_master:
      friendly_name: AP UniFi
      icon: mdi:access-point
      haaska_hidden: true
########## Wemos         ########################
    binary_sensor.wemo_master_bath_fan:
      friendly_name: Wemos Master Bath Fan
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_bathroom_fan:
      friendly_name: Wemos Kids Bath Fan
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_rear_network:
      friendly_name: Wemos Rear Network
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.master_bedroom_mixer:
      friendly_name: Wemos Master Bedroom Mixer
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_kids_bathroom_scent:
      friendly_name: Wemos Kids Bathroom Scent
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_washing_machine:
      friendly_name: Wemos Washing Machine
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_lv_scent:
      friendly_name: Wemos living Room Scent
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_driveway_reboot:
      friendly_name: Driveway Camera Reboot
      icon: mdi:power-settings
      haaska_hidden: true
    binary_sensor.wemo_fish_tan_pumps:
      friendly_name: FishTank Filters
      icon: mdi:power-settings
      haaska_hidden: true

############## Dashboards ################
    binary_sensor.dash_master:
      friendly_name: Dashboard Tablet Bedroom
      icon: mdi:tablet-android
      haaska_hidden: true
    binary_sensor.dash_living_room:
      friendly_name: Dashboard Tablet Living Room
      icon: mdi:tablet-android
      haaska_hidden: true
    binary_sensor.dash_gabbies_room:
      friendly_name: Dashboard Gabbies Room
      icon: mdi:tablet-android
      haaska_hidden: true
############ ESP Controllers  ###########################################
    binary_sensor.led_kitchen_cabinets:
      friendly_name: Kitchen Led Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.kids_room_controller:
      friendly_name: Kids Room Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.dawns_controller:
      friendly_name: Dawns Controller
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_front_tv:
      friendly_name: Front Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_rear_couch:
      friendly_name: Couch Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_kitchen_sink:
      friendly_name: Kitchen Sink Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_master_dawns_side:
      friendly_name: Master Dawns Side Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_master_herbs_side:
      friendly_name: Master Herbs Side Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_ruths:
      friendly_name: Ruths Blinds
      icon: mdi:zip-box
      haaska_hidden: true
    binary_sensor.esp_blinds_kitchen_table:
      friendly_name: Kitchen Table Blinds
      icon: mdi:zip-box
      haaska_hidden: true

############## Misc Devices ###############################################
    binary_sensor.game_console_ps4:
      friendly_name: Ps4
      icon: mdi:playstation
      haaska_hidden: true
    binary_sensor.game_console_ps3:
      friendly_name: Gabbies Ps3
      icon: mdi:playstation
      haaska_hidden: true
    binary_sensor.game_console_xboxone:
      friendly_name: Tristans Xbox One
      icon: mdi:xbox
      haaska_hidden: true
    binary_sensor.voip_nettalk:
      friendly_name: NetDuo
      icon: mdi:phone-voip
      haaska_hidden: true
    binary_sensor.webswitch_network:
      friendly_name: Digital Loggers Webswitch
      icon: mdi:power-plug
      haaska_hidden: true
    binary_sensor.printer_hp:
      friendly_name: HP Printer
      icon: mdi:printer
    binary_sensor.ecobee:
      friendly_name: Ecobee Thermostat
      icon: mdi:thermostat-box
    sensor.myipopendnscom:
      friendly_name: Wan Ip
      icon: mdi:wan
    sensor.clients:
      friendly_name: Clients Tracked
      icon: mdi:network
      haaska_hidden: true
    binary_sensor.rockrobo:
      friendly_name: Susie
      icon: mdi:power-plug
      haaska_hidden: true
    binary_sensor.living_room_purifer:
      friendly_name: Living Room Purifer
      icon: mdi:fan
      haaska_hidden: true

group:
  clients_online_card:
    name: Clients Online
    entities:
      - sensor.clients

  wifi_signal_card:
   name: Wifi Signals
   entities:
     - sensor.blinds_controller_wifi_signal
     - sensor.sink_blinds_controller_wifi_signal
     - sensor.dawns_controller_wifi_signal
     - sensor.dawns_blinds_controller_wifi_signal
     - sensor.front_blinds_controller_wifi_signal
     - sensor.master_blinds_controller_dawns_wifi_signal
     - sensor.master_blinds_controller_herbs_wifi_signal
     - sensor.ruths_blinds_wifi_signal
     - sensor.kids_controller_wifi_signal

  wink_connections_card:
   name: Wink Connections
   entities:
     - binary_sensor.gang
     - binary_sensor.gang_1

  hubs_card:
   name: Hub's & Bridges
   entities:
     - binary_sensor.harmony_hub
     - binary_sensor.hue_hub
     - binary_sensor.wink_hub
     - binary_sensor.broadlink_mini
     - binary_sensor.broadlink_pro
     - binary_sensor.xiaomi_gateway

  cameras_status_card:
    name: Cameras
    entities:
     - binary_sensor.number12_camera_connect
     - binary_sensor.driveway_camera_connect
     - binary_sensor.shed_camera_connect
     - binary_sensor.backdoor_camera_connect
     - binary_sensor.frontdoor_camera_connect
     - binary_sensor.swamp_camera_connect
     - binary_sensor.masterbedroom_camera_connect

  NetworkDrives_status_card:
   name: Nas Drives
   entities:
     - binary_sensor.network_harddrive

  esp_led_devices_card:
   name: Esp Controller's Leds/Power
   entities:
     - binary_sensor.led_kitchen_cabinets
     - binary_sensor.kids_room_controller
     - binary_sensor.dawns_controller

  esp_blind_devices_card:
   name: Esp Controller's Blinds
   entities:
     - binary_sensor.esp_blinds_master_dawns_side
     - binary_sensor.esp_blinds_master_herbs_side
     - binary_sensor.esp_blinds_kitchen_table
     - binary_sensor.esp_blinds_kitchen_sink
     - binary_sensor.esp_blinds_rear_couch
     - binary_sensor.esp_blinds_front_tv
     - binary_sensor.esp_blinds_ruths

  etc_devices_card:
   name: Mobile Devices
   entities:
     - binary_sensor.herbs_laptop
     - binary_sensor.herbs_iphone
     - binary_sensor.dawns_phone
     - binary_sensor.tristans_phone
     - binary_sensor.ruths_tablet
     - binary_sensor.gabbies_laptop

  servers_status_card:
   name: Servers
   entities:
     - binary_sensor.server_blue_iris
     - binary_sensor.server_homeassistant_fishtank
     - binary_sensor.kids_workstation

  alexa_status_card:
   name: Alexa
   entities:
     - binary_sensor.alexa_master_dot
     - binary_sensor.alexa_gabbies_room_dot
     - binary_sensor.alexa_living_room_echo
     - binary_sensor.alexa_kitchen_echo

  network_equipment_status_card:
   name: Networking Devices
   entities:
#     - binary_sensor.cable_modem
     - binary_sensor.unifi_gateway
     - binary_sensor.unificloudkey
     - binary_sensor.switch_ubnt_poe_16
     - binary_sensor.switch_ubnt_poe_lv
     - binary_sensor.switch_ubnt_poe_8_shed
     - binary_sensor.ac_pro
     - binary_sensor.ap_master

  media_player_status_card:
   name: Media Players
   entities:
     - binary_sensor.ruths_ruko
     - binary_sensor.livingroom_roku
     - binary_sensor.kids_room_roku
     - binary_sensor.media_player_onkyo_lv
     - binary_sensor.samsung_tv
     - binary_sensor.chromecast_master
     - binary_sensor.chromecast_livingroom
     - binary_sensor.chromecast_kids_room
     - binary_sensor.chromecast_radio
     - binary_sensor.tablo

  wemos_status_card:
   name: Wemos
   entities:
     - binary_sensor.wemo_master_bath_fan
     - binary_sensor.wemo_kids_bathroom_fan
     - binary_sensor.wemo_rear_network
     - binary_sensor.master_bedroom_mixer
     - binary_sensor.wemo_kids_bathroom_scent
     - binary_sensor.wemo_washing_machine
     - binary_sensor.wemo_lv_scent
     - binary_sensor.wemo_driveway_reboot
     - binary_sensor.wemo_fish_tan_pumps

  dashboard_status_card:
   name: Dashboards
   entities:
     - binary_sensor.dash_master
     - binary_sensor.dash_living_room
     - binary_sensor.dash_gabbies_room

  misc_devices_card:
   name: Misc Devices
   entities:
    - binary_sensor.game_console_ps4
    - binary_sensor.game_console_ps3
    - binary_sensor.game_console_xboxone
    - binary_sensor.voip_nettalk
    - binary_sensor.webswitch_network
    - binary_sensor.printer_hp
    - binary_sensor.ecobee
    - binary_sensor.rockrobo
    - binary_sensor.living_room_purifer

sensor:
  ############## Public Ip
  - platform: dnsip

######## Equipment ########
  - platform: speedtest
    minute: 30
    hour:
      - 0
      - 6
      - 12
      - 18
    monitored_conditions:
      - ping
      - download
      - upload

#################### ALL CLIENTS ###################
  - platform: template
    sensors:
      clients:
        unit_of_measurement: '#'
        entity_id: sun.sun
        value_template: >-
            {%- for d in states.device_tracker if d.state == 'home' -%}
            {{- loop.length if loop.first -}}
            {%- endfor -%}
##### show devices as online instead of home   ############################
#### Cameras #############
binary_sensor:
  - platform: template
    sensors:
      driveway_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_driveway", "home") }}'
  - platform: template
    sensors:
      shed_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_shed", "home") }}'
  - platform: template
    sensors:
      swamp_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_swamp", "home") }}'
  - platform: template
    sensors:
      number12_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_number12", "home") }}'
  - platform: template
    sensors:
      frontdoor_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_living_room", "home") }}'
  - platform: template
    sensors:
      backdoor_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_backdoor", "home") }}'
  - platform: template
    sensors:
      masterbedroom_camera_connect:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.camera_master_bedroom", "home") }}'

######### Mobile Devices  ##########################

  - platform: template
    sensors:
      herbs_laptop:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.vaspc", "home") }}'
  - platform: template
    sensors:
      herbs_iphone:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.herbertrsiphone", "home") }}'
  - platform: template
    sensors:
      dawns_phone:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dawns_phone", "home") }}'
  - platform: template
    sensors:
      ruths_tablet:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ruths_tablet", "home") }}'
  - platform: template
    sensors:
      gabbies_laptop:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.gabbies_laptop", "home") }}'
  - platform: template
    sensors:
      tristans_phone:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.tristans_phone", "home") }}'


############ Hubs ######################################

  - platform: template
    sensors:
      harmony_hub:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.harmony_hub", "home") }}'
  - platform: template
    sensors:
      wink_hub:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wink_hub", "home") }}'
  - platform: template
    sensors:
      hue_hub:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.hue_hub", "home") }}'
  - platform: template
    sensors:
      broadlink_mini:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.gabbies_mini_broadlink", "home") }}'
  - platform: template
    sensors:
      broadlink_pro:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.master_bedroom_broadlink", "home") }}'
  - platform: template
    sensors:
      xiaomi_gateway:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.xiaomi_gateway", "home") }}'
#################### servers ###################

  - platform: template
    sensors:
      server_blue_iris:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.server_blueiris_plex", "home") }}'
  - platform: template
    sensors:
      server_homeassistant_fishtank:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.server_homeassistant_fishtank", "home") }}'
  - platform: template
    sensors:
      kids_workstation:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.kids_workstation", "home") }}'

#################### alexa's ###################

  - platform: template
    sensors:
      alexa_living_room_echo:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_living_room_echo", "home") }}'
  - platform: template
    sensors:
      alexa_gabbies_room_dot:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_gabbies_room_dot", "home") }}'
  - platform: template
    sensors:
      alexa_master_dot:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_master_dot", "home") }}'
  - platform: template
    sensors:
      alexa_kitchen_echo:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.alexa_kitchen_echo", "home") }}'


#################### media players ###################

  - platform: template
    sensors:
      ruths_ruko:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ruths_ruko", "home") }}'

  - platform: template
    sensors:
      livingroom_roku:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.livingroom_roku", "home") }}'

  - platform: template
    sensors:
      kids_room_roku:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.kids_room_roku", "home") }}'

  - platform: template
    sensors:
      media_player_onkyo_lv:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.media_player_onkyo_lv", "home") }}'

  - platform: template
    sensors:
      samsung_tv:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.samsung_tv", "home") }}'

  - platform: template
    sensors:
      chromecast_master:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.chromecast_master", "home") }}'

  - platform: template
    sensors:
      chromecast_livingroom:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.chromecast_livingroom", "home") }}'

  - platform: template
    sensors:
      chromecast_kids_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.media_player_cast_kids_room", "home") }}'

  - platform: template
    sensors:
      chromecast_radio:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.chromecast_radio", "home") }}'

  - platform: template
    sensors:
      tablo:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.tablo", "home") }}'

#################### NAS  ###################

  - platform: template
    sensors:
      network_harddrive:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.network_harddrive", "home") }}'

#################### Network Devices  ###################
  - platform: template
    sensors:
      unifi_gateway:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.unifi_gateway", "home") }}'
  - platform: template
    sensors:
      netgear_switch:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_ubnt_poe_lv", "home") }}'
  - platform: template
    sensors:
      unificloudkey:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.unificloudkey", "home") }}'
  - platform: template
    sensors:
      switch_ubnt_poe_16:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_ubnt_poe_16", "home") }}'
  - platform: template
    sensors:
      switch_ubnt_poe_8_shed:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.switch_ubnt_poe_8_shed", "home") }}'
  - platform: template
    sensors:
      ac_pro:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ac_pro", "home") }}'
  - platform: template
    sensors:
      ap_master:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.ac_master", "home") }}'
#################### Wemo Devices  ###################

  - platform: template
    sensors:
      wemo_master_bath_fan:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_master_bath_fan", "home") }}'
  - platform: template
    sensors:
      wemo_kids_bathroom_fan:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_bathroom_fan", "home") }}'
  - platform: template
    sensors:
      wemo_rear_network:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_rear_network", "home") }}'
  - platform: template
    sensors:
      master_bedroom_mixer:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.master_bedroom_mixer", "home") }}'
  - platform: template
    sensors:
      wemo_kids_bathroom_scent:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_kids_bathroom_scent", "home") }}'
  - platform: template
    sensors:
      wemo_washing_machine:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_washing_machine", "home") }}'
  - platform: template
    sensors:
      wemo_lv_scent:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_lv_scent", "home") }}'
  - platform: template
    sensors:
      wemo_driveway_reboot:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_driveway_reboot", "home") }}'

  - platform: template
    sensors:
      wemo_fish_tan_pumps:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.wemo_fish_tan_pumps", "home") }}'

#################### Dashboards Devices  ###################

  - platform: template
    sensors:
      dash_master:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dash_master_bedroom", "home") }}'
  - platform: template
    sensors:
      dash_living_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dash_living_room", "home") }}'
  - platform: template
    sensors:
      dash_gabbies_room:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dash_gabbies", "home") }}'

#################### Esp Devices  ###################
  - platform: template
    sensors:
      led_kitchen_cabinets:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.led_kitchen_cabinets", "home") }}'

  - platform: template
    sensors:
      kids_room_controller:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_kids_room_relay", "home") }}'
  - platform: template
    sensors:
      dawns_controller:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.dawns_controller", "home") }}'
  - platform: template
    sensors:
      esp_blinds_front_tv:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_front_tv", "home") }}'
  - platform: template
    sensors:
      esp_blinds_rear_couch:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_rear_couch", "home") }}'
  - platform: template
    sensors:
      esp_blinds_kitchen_sink:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_kitchen_sink", "home") }}'
  - platform: template
    sensors:
      esp_blinds_master_dawns_side:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_master2", "home") }}'
  - platform: template
    sensors:
      esp_blinds_master_herbs_side:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_master1", "home") }}'
  - platform: template
    sensors:
      esp_blinds_ruths:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_ruths", "home") }}'
  - platform: template
    sensors:
      esp_blinds_kitchen_table:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.esp_blinds_kitchen_table", "home") }}'

################### Misc Devices  ##########################
  - platform: template
    sensors:
      game_console_ps4:
        device_class: connectivity
        value_template: '{{ is_state("device_tracker.game_console_ps4", "home") }}'
  - platform: template
    sensors:
      game_console_ps3:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.game_console_ps3', 'home') }}"
  - platform: template
    sensors:
      game_console_xboxone:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.game_console_xboxone', 'home') }}"
  - platform: template
    sensors:
      voip_nettalk:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.voip_nettalk', 'home') }}"
  - platform: template
    sensors:
      webswitch_network:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.webswitch_network', 'home') }}"
  - platform: template
    sensors:
      printer_hp:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.printer_hp', 'home') }}"
  - platform: template
    sensors:
      ecobee:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.ecobee', 'home') }}"
  - platform: template
    sensors:
      rockrobo:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.rockrobo', 'home') }}"
  - platform: template
    sensors:
      living_room_purifer:
        device_class: connectivity
        value_template: "{{ is_state('device_tracker.living_room_purifer', 'home') }}"

device_tracker:
  - platform: ping
    hosts:
      unifi_gateway: 192.168.1.1
      switch_ubnt_poe_lv: 192.168.1.3
      switch_ubnt_poe_16: 192.168.1.2
      switch_ubnt_poe_8_shed: 192.168.1.4
      ac_pro: 192.168.1.9
      ac_master: 192.168.1.8

  - platform: unifi
    host: 192.168.1.6
    username: !secret unifi_username
    password: !secret unifi_password
    verify_ssl: false
    site_id: default



#### Notify if device goes offline

automation:
  - alias: Notify Device Status
    initial_state: 'off'
    trigger:
      - platform: state
        entity_id:
          - binary_sensor.driveway_camera_connect
          - binary_sensor.number12_camera_connect
          - binary_sensor.shed_camera_connect
          - binary_sensor.swamp_camera_connect
          - binary_sensor.frontdoor_camera_connect
          - binary_sensor.backdoor_camera_connect
          - binary_sensor.masterbedroom_camera_connect
#         MOBILE DEVICES
          - binary_sensor.herbs_laptop
          - binary_sensor.herbs_iphone
          - binary_sensor.dawns_phone
          - binary_sensor.tristans_phone
          - binary_sensor.ruths_tablet
          - binary_sensor.gabbies_laptop
#         HUBS
          - binary_sensor.harmony_hub
          - binary_sensor.wink_hub
          - binary_sensor.hue_hub
          - binary_sensor.broadlink_pro
          - binary_sensor.broadlink_mini
          - binary_sensor.xiaomi_gateway
#         Servers
          - binary_sensor.server_blue_iris
          - binary_sensor.server_homeassistant_fishtank
          - binary_sensor.kids_workstation
#         alexa
          - binary_sensor.alexa_master_dot
          - binary_sensor.alexa_gabbies_room_dot
          - binary_sensor.alexa_living_room_echo
          - binary_sensor.alexa_kitchen_echo
#         media Players
          - binary_sensor.ruths_ruko
          - binary_sensor.livingroom_roku
          - binary_sensor.kids_room_roku
          - binary_sensor.media_player_onkyo_lv
          - binary_sensor.samsung_tv
          - binary_sensor.chromecast_master
          - binary_sensor.chromecast_livingroom
          - binary_sensor.chromecast_radio
          - binary_sensor.chromecast_kids_room
          - binary_sensor.tablo
#         NAS
          - binary_sensor.network_harddrive
#         Network Equipment
#          - binary_sensor.cable_modem
          - binary_sensor.unifi_gateway
          - binary_sensor.switch_ubnt_poe_lv
          - binary_sensor.unificloudkey
          - binary_sensor.switch_ubnt_poe_16
          - binary_sensor.switch_ubnt_poe_8_shed
          - binary_sensor.ac_pro
          - binary_sensor.ap_master
#         wemos
          - binary_sensor.wemo_master_bath_fan
          - binary_sensor.wemo_kids_bathroom_fan
          - binary_sensor.wemo_rear_network
          - binary_sensor.master_bedroom_mixer
          - binary_sensor.wemo_kids_bathroom_scent
          - binary_sensor.wemo_washing_machine
          - binary_sensor.wemo_lv_scent
          - binary_sensor.wemo_driveway_reboot
          - binary_sensor.wemo_fish_tan_pumps
#         Dashboards
          - binary_sensor.dash_master
          - binary_sensor.dash_living_room
          - binary_sensor.dash_gabbies_room
#         esp
          - binary_sensor.led_kitchen_cabinets
          - binary_sensor.kids_room_controller
          - binary_sensor.dawns_controller
          - binary_sensor.esp_blinds_front_tv
          - binary_sensor.esp_blinds_rear_couch
          - binary_sensor.esp_blinds_master_dawns_side
          - binary_sensor.esp_blinds_master_herbs_side
          - binary_sensor.esp_blinds_ruths
          - binary_sensor.esp_blinds_kitchen_table
          - binary_sensor.esp_blinds_kitchen_sink
#         misc devices
          - binary_sensor.game_console_ps4
          - binary_sensor.game_console_ps3
          - binary_sensor.game_console_xboxone
          - binary_sensor.voip_nettalk
          - binary_sensor.webswitch_network
          - binary_sensor.printer_hp
          - binary_sensor.ecobee
          - binary_sensor.rockrobo
          - binary_sensor.living_room_purifer

    condition:
      condition: and
      conditions:
        - condition: template
          value_template: "{% if trigger.from_state and trigger.to_state %} True {% else %} False {% endif %}"
        - condition: state
          entity_id: input_boolean.boolean_home
          state: 'on'
    action:
      - service: tts.google_say
        data_template:
          entity_id: media_player.ha_speaker, media_player.master_bedroom_cast
          message: >
            {% if trigger.to_state.state | lower == "offline" %}
              {{ trigger.to_state.attributes.friendly_name }} has gone offline!
            {% else %}
              {{ trigger.to_state.attributes.friendly_name }} has come online!
            {% endif %}
